(function(e){function t(t){for(var i,s,l=t[0],u=t[1],a=t[2],d=0,m=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);c&&c(t);while(m.length)m.shift()();return r.push.apply(r,a||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,l=1;l<n.length;l++){var u=n[l];0!==o[u]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/Simon-The-Game/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var a=0;a<l.length;a++)t(l[a]);var c=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"122e":function(e,t,n){e.exports=n.p+"media/2.d2c4a2c4.mp3"},"3f26":function(e,t,n){e.exports=n.p+"media/4.36d5a722.mp3"},"4e2d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Game")],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"game"}},[n("h1",{staticClass:"game__title"},[e._v("Simon Says")]),n("div",{staticClass:"container"},[n("div",{staticClass:"game__circle circle"},[n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn--blue",class:{"btn--active":e.buttons[0].isActive},attrs:{name:"blue",id:"1"},on:{click:function(t){return e.colorClicked(1,"blue",t)}}}),n("button",{staticClass:"btn btn--red",class:{"btn--active":e.buttons[1].isActive},attrs:{name:"red",id:"2"},on:{click:function(t){return e.colorClicked(2,"red",t)}}})]),n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn--yellow",class:{"btn--active":e.buttons[2].isActive},attrs:{name:"yellow",id:"3"},on:{click:function(t){return e.colorClicked(3,"yellow",t)}}}),n("button",{staticClass:"btn btn--green",class:{"btn--active":e.buttons[3].isActive},attrs:{name:"green",id:"4"},on:{click:function(t){return e.colorClicked(4,"green",t)}}})])]),n("div",{staticClass:"game__round round"},[e.gameFailed?e._e():n("h3",{staticClass:"round__subtitle"},[e._v("Round: "+e._s(e.roundNumber))]),e.gameFailed?n("p",{staticClass:"round__message"},[e._v("Game lost on Round "+e._s(e.roundNumber))]):e._e(),n("button",{staticClass:"round__btn",on:{click:e.restartGame}},[e._v("Start")]),n("h3",{staticClass:"round__subtitle"},[e._v("Levels:")]),n("ul",{staticClass:"round__levels levels"},[n("li",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],attrs:{type:"radio",name:"level",id:"level-easy",value:"easy"},domProps:{checked:e._q(e.level,"easy")},on:{change:function(t){e.level="easy"}}}),e._v(" Easy ")])]),n("li",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],attrs:{type:"radio",name:"level",id:"level-medium",value:"medium"},domProps:{checked:e._q(e.level,"medium")},on:{change:function(t){e.level="medium"}}}),e._v(" Medium ")])]),n("li",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],attrs:{type:"radio",name:"level",id:"level-hard",value:"hard"},domProps:{checked:e._q(e.level,"hard")},on:{change:function(t){e.level="hard"}}}),e._v(" Hard ")])])])])])])},l=[],u=(n("d3b7"),{name:"Game",data:function(){return{level:"medium",delayPeriod:1e3,roundNumber:0,roundSequence:[],gameStarted:!1,gameFailed:!1,listenSequence:!1,clickedButtons:[],checkingIndex:0,levels:{easy:{label:"Легкий",delayPeriod:1500},medium:{label:"Средний",delayPeriod:1e3},hard:{label:"Сложный",delayPeriod:400}},buttons:[{id:1,name:"blue",isActive:!1},{id:2,name:"red",isActive:!1},{id:3,name:"yellow",isActive:!1},{id:4,name:"green",isActive:!1}],sounds:{blue:"1",red:"2",yellow:"3",green:"4"}}},watch:{level:function(){this.roundNumber=0,this.gameFailed=!1,this.delayPeriod=this.levels[this.level].delayPeriod},roundNumber:function(){this.roundNumber&&this.generateSequence()},clickedButtons:function(){this.clickedButtons.length>0&&(this.clickedButtons.length>0&&this.clickedButtons[this.checkingIndex]==this.roundSequence[this.checkingIndex]?(this.checkingIndex++,this.checkingIndex===this.roundSequence.length&&(this.clearRoundInfo(),this.nextRound())):(this.clearRoundInfo(),this.finishGame()))}},methods:{restartGame:function(){this.roundNumber=0,this.roundSequence=[],this.clickedButtons=[],this.gameFailed=!1,this.nextRound(),this.gameStarted=!0},generateSequence:function(){this.roundSequence=[];for(var e=0;e<this.roundNumber;e++)this.roundSequence.push(this.randomNumber(1,4));this.showSequence()},randomNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},showSequence:function(){for(var e=this,t=document.querySelectorAll(".btn"),n=new Event("click"),i=[],o=0;o<this.roundSequence.length;o++)for(var r=0;r<t.length;r++)t[r].id!=this.roundSequence[o]||i.push(t[r]);for(var s=function(t){return function(){return new Promise((function(i){t.dispatchEvent(n),setTimeout((function(){i()}),e.delayPeriod)}))}},l=Promise.resolve(),u=0,a=i;u<a.length;u++){var c=a[u];l=l.then(s(c))}l.then((function(){e.clickedButtons=[],e.listenSequence=!0}))},playSound:function(e){if(e){var t=new Audio(n("df68")("./".concat(e,".mp3")));t.play()}},colorClicked:function(e,t,n){var i=this;if(this.gameStarted&&(!n.isTrusted||n.isTrusted&&this.listenSequence)){this.buttons[e-1].isActive=!0;var o=this.sounds[t];this.playSound(o),setTimeout((function(){i.buttons[e-1].isActive=!1}),150),n.isTrusted&&"click"==n.type&&this.clickedButtons.push(e)}},clearRoundInfo:function(){this.clickedButtons=[],this.roundSequence=[],this.checkingIndex=0},nextRound:function(){var e=this;this.listenSequence=!1,setTimeout((function(){e.roundNumber++}),1.5*this.delayPeriod)},finishGame:function(){this.gameStarted=!1,this.gameFailed=!0}}}),a=u,c=(n("68e4"),n("2877")),d=Object(c["a"])(a,s,l,!1,null,null,null),m=d.exports,f={name:"App",components:{Game:m}},h=f,v=(n("034f"),Object(c["a"])(h,o,r,!1,null,null,null)),p=v.exports;i["a"].config.productionTip=!1,i["a"].config.devtools=!0,new i["a"]({render:function(e){return e(p)}}).$mount("#app")},"68e4":function(e,t,n){"use strict";n("4e2d")},"85ec":function(e,t,n){},aedf:function(e,t,n){e.exports=n.p+"media/3.c1c96b44.mp3"},df68:function(e,t,n){var i={"./1.mp3":"fdf0","./2.mp3":"122e","./3.mp3":"aedf","./4.mp3":"3f26"};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id="df68"},fdf0:function(e,t,n){e.exports=n.p+"media/1.99e50f7d.mp3"}});
//# sourceMappingURL=app.d937cf45.js.map